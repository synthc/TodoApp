<div id="mainDiv" class="row">

    <div class="col-md-6 col-md-offset-3">
        <div class="text-center">
            <h1>Todo List</h1>
        </div>

        <br />
        
        <div ng-if="vm.todos.length == 0">
            <h3>Your todo list is empty.</h3>
        </div>

        <div ng-if="vm.todos.length > 0">
            <table id="todoTable" class="table">
                <thead>
                    <tr>
                        <th>Task</th>
                        <th>Deadline</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="todo in vm.todos">
                        <td ng-click="vm.toggleDetails($index)">
                            <span class="{{todo.Completed}} {{todo.overdue}} pointer">{{todo.Title}}</span>
                            <div ng-show="todo.showDetails == true">
                                <br />
                                <div class="panel panel-success">
                                    <div class="panel-heading">Details</div>
                                    <div class="panel-body">{{todo.Details}}</div>
                                </div>
                            </div>
                        </td>
                        <td ng-if="todo.Deadline == null"><span class="{{todo.Completed}} {{todo.overdue}}">--</span></td>
                        <td ng-if="todo.Deadline != null"><span class="{{todo.Completed}} {{todo.overdue}}">{{todo.month}}/{{todo.day}}/{{todo.year}}</span></td>
                        <td ng-if="todo.Completed == false"><button data-toggle="popover" title="Toggle completed" class="btn"><span class="glyphicon glyphicon-ok" ng-click="vm.toggleCompleted($index)"></span></button></td>
                        <td ng-if="todo.Completed == true"><button data-toggle="popover" title="Toggle completed" class="btn btn-success"><span class="glyphicon glyphicon-ok" ng-click="vm.toggleCompleted($index)"></span></button></td>
                        <td><button data-toggle="popover" title="Remove" class="btn btn-danger" ng-click="vm.deleteTodo(todo.Id)"><span class="glyphicon glyphicon-remove"></span></button></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <input type="button" class="btn btn-primary" value="New task" ng-click="vm.addTodo()" />
    </div>

</div>